<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.111.3"><meta name=description content><link rel=icon href=/images/favicon.png type=image/png><title>Access K8S Cluster :: Ventus Docs</title><link href=/css/nucleus.css?1680863264 rel=stylesheet><link href=/css/fontawesome-all.min.css?1680863264 rel=stylesheet><link href=/css/hybrid.css?1680863264 rel=stylesheet><link href=/css/featherlight.min.css?1680863264 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1680863264 rel=stylesheet><link href=/css/auto-complete.css?1680863264 rel=stylesheet><link href=/css/atom-one-dark-reasonable.css?1680863264 rel=stylesheet><link href=/css/theme.css?1680863264 rel=stylesheet><link href=/css/tabs.css?1680863264 rel=stylesheet><link href=/css/hugo-theme.css?1680863264 rel=stylesheet><link href=/css/theme-blue.css?1680863264 rel=stylesheet><script src=/js/jquery-3.3.1.min.js?1680863264></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/products/kubernetes/accessing-kuber/><nav id=sidebar><div id=header-wrapper><div id=header></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/js/lunr.min.js?1680863264></script>
<script type=text/javascript src=/js/auto-complete.js?1680863264></script>
<script type=text/javascript>var baseurl="https://docs.ventuscloud.eu/"</script><script type=text/javascript src=/js/search.js?1680863264></script></div><section id=homelinks><ul><li><a class=padding href=/><i class='fas fa-home'></i> Home</a></li></ul></section><div class=highlightable><ul class=topics><li data-nav-id=/getting-started/ title="Getting Started" class=dd-item><a href=/getting-started/><b>1. </b>Getting Started</a><ul><li data-nav-id=/getting-started/account/ title=Account class=dd-item><a href=/getting-started/account/>Account</a></li><li data-nav-id=/getting-started/organizations/ title=Organizations class=dd-item><a href=/getting-started/organizations/>Organizations</a></li><li data-nav-id=/getting-started/projects/ title=Projects class=dd-item><a href=/getting-started/projects/>Projects</a></li></ul></li><li data-nav-id=/identity-management/ title="Identity Management" class=dd-item><a href=/identity-management/><b>2. </b>Identity Management</a><ul><li data-nav-id=/identity-management/administrators/ title=Administrators class=dd-item><a href=/identity-management/administrators/>Administrators</a></li><li data-nav-id=/identity-management/groups/ title=Groups class=dd-item><a href=/identity-management/groups/>Groups</a></li></ul></li><li data-nav-id=/products/ title=Products class="dd-item
parent"><a href=/products/><b>3. </b>Products</a><ul><li data-nav-id=/products/compute/ title=COMPUTE class=dd-item><a href=/products/compute/><b></b>COMPUTE</a><ul><li data-nav-id=/products/compute/virtual-machines/ title="Virtual Machines" class=dd-item><a href=/products/compute/virtual-machines/>Virtual Machines</a></li><li data-nav-id=/products/compute/connect-linux-vm/ title="Access Linux VM" class=dd-item><a href=/products/compute/connect-linux-vm/>Access Linux VM</a></li><li data-nav-id=/products/compute/connect-windows-vm/ title="Access Windows VM" class=dd-item><a href=/products/compute/connect-windows-vm/>Access Windows VM</a></li></ul></li><li data-nav-id=/products/kubernetes/ title=KUBERNETES class="dd-item
parent"><a href=/products/kubernetes/><b></b>KUBERNETES</a><ul><li data-nav-id=/products/kubernetes/kubernetes-cluster/ title="K8S Cluster" class=dd-item><a href=/products/kubernetes/kubernetes-cluster/>K8S Cluster</a></li><li data-nav-id=/products/kubernetes/accessing-kuber/ title="Access K8S Cluster" class="dd-item active"><a href=/products/kubernetes/accessing-kuber/>Access K8S Cluster</a></li></ul></li><li data-nav-id=/products/security/ title=SECURITY class=dd-item><a href=/products/security/><b></b>SECURITY</a><ul><li data-nav-id=/products/security/firewalls/ title=Firewalls class=dd-item><a href=/products/security/firewalls/>Firewalls</a></li><li data-nav-id=/products/security/firewall-rules/ title="Firewall Rules" class=dd-item><a href=/products/security/firewall-rules/>Firewall Rules</a></li><li data-nav-id=/products/security/manage-firewalls/ title="VM's Firewalls" class=dd-item><a href=/products/security/manage-firewalls/>VM's Firewalls</a></li><li data-nav-id=/products/security/ssh-keys/ title="SSH Keys" class=dd-item><a href=/products/security/ssh-keys/>SSH Keys</a></li><li data-nav-id=/products/security/cli-users/ title="CLI Users" class=dd-item><a href=/products/security/cli-users/>CLI Users</a></li></ul></li><li data-nav-id=/products/storage/ title=STORAGE class=dd-item><a href=/products/storage/><b></b>STORAGE</a><ul><li data-nav-id=/products/storage/object-storage/ title="Object Storage" class=dd-item><a href=/products/storage/object-storage/>Object Storage</a></li><li data-nav-id=/products/storage/object-storage-credentials/ title="Object Storage Credentials" class=dd-item><a href=/products/storage/object-storage-credentials/>Object Storage Credentials</a></li><li data-nav-id=/products/storage/volumes/ title=Volumes class=dd-item><a href=/products/storage/volumes/>Volumes</a></li><li data-nav-id=/products/storage/manage-volumes/ title="VM's Volumes" class=dd-item><a href=/products/storage/manage-volumes/>VM's Volumes</a></li><li data-nav-id=/products/storage/snapshots/ title=Snapshots class=dd-item><a href=/products/storage/snapshots/>Snapshots</a></li><li data-nav-id=/products/storage/manage-snapshots/ title="VM's Snapshots" class=dd-item><a href=/products/storage/manage-snapshots/>VM's Snapshots</a></li></ul></li><li data-nav-id=/products/images/ title=IMAGES class=dd-item><a href=/products/images/><b></b>IMAGES</a><ul><li data-nav-id=/products/images/custom-images/ title=Images class=dd-item><a href=/products/images/custom-images/>Images</a></li><li data-nav-id=/products/images/image-from-snapshot/ title="Create Image from Snapshot" class=dd-item><a href=/products/images/image-from-snapshot/>Create Image from Snapshot</a></li><li data-nav-id=/products/images/share-images/ title="Share Images between Projects" class=dd-item><a href=/products/images/share-images/>Share Images between Projects</a></li><li data-nav-id=/products/images/transfer-images/ title="Transfer Images between Regions" class=dd-item><a href=/products/images/transfer-images/>Transfer Images between Regions</a></li></ul></li><li data-nav-id=/products/networking/ title=NETWORKING class=dd-item><a href=/products/networking/><b></b>NETWORKING</a><ul><li data-nav-id=/products/networking/networks/ title=Networks class=dd-item><a href=/products/networking/networks/>Networks</a></li><li data-nav-id=/products/networking/floating-ips/ title="Floating IPs" class=dd-item><a href=/products/networking/floating-ips/>Floating IPs</a></li><li data-nav-id=/products/networking/routers/ title=Routers class=dd-item><a href=/products/networking/routers/>Routers</a></li><li data-nav-id=/products/networking/subnets/ title=Subnets class=dd-item><a href=/products/networking/subnets/>Subnets</a></li><li data-nav-id=/products/networking/manage-networks/ title="VM's Networks and Interfaces" class=dd-item><a href=/products/networking/manage-networks/>VM's Networks and Interfaces</a></li></ul></li></ul></li><li data-nav-id=/tutorials-advanced/ title=Advanced class=dd-item><a href=/tutorials-advanced/><b>4. </b>Advanced</a><ul><li data-nav-id=/tutorials-advanced/installation-openstack-cli/ title="Installation OpenStack CLI" class=dd-item><a href=/tutorials-advanced/installation-openstack-cli/>Installation OpenStack CLI</a></li><li data-nav-id=/tutorials-advanced/working-with-openstack-api/ title="Working with OpenStack API" class=dd-item><a href=/tutorials-advanced/working-with-openstack-api/>Working with OpenStack API</a></li><li data-nav-id=/tutorials-advanced/org-management-over-api/ title="Organization's management over API" class=dd-item><a href=/tutorials-advanced/org-management-over-api/>Organization's management over API</a></li><li data-nav-id=/tutorials-advanced/advanced-network-scenarios/ title="Advanced network scenarios" class=dd-item><a href=/tutorials-advanced/advanced-network-scenarios/>Advanced network scenarios</a></li><li data-nav-id=/tutorials-advanced/site-to-site-ipsec-vpn/ title="The Site to Site IPSec VPN" class=dd-item><a href=/tutorials-advanced/site-to-site-ipsec-vpn/>The Site to Site IPSec VPN</a></li></ul></li><li data-nav-id=/terms-and-conditions/ title="Terms and Conditions" class=dd-item><a href=/terms-and-conditions/><b>5. </b>Terms and Conditions</a><ul><li data-nav-id=/terms-and-conditions/privacy-policy/ title="Privacy Policy" class=dd-item><a href=/terms-and-conditions/privacy-policy/>Privacy Policy</a></li><li data-nav-id=/terms-and-conditions/terms-and-conditions/ title="Terms and Conditions" class=dd-item><a href=/terms-and-conditions/terms-and-conditions/>Terms and Conditions</a></li><li data-nav-id=/terms-and-conditions/devops-as-a-service/ title="Devops as a Service" class=dd-item><a href=/terms-and-conditions/devops-as-a-service/>Devops as a Service</a></li></ul></li></ul><section id=footer><p>Built with <a href=https://github.com/matcornic/hugo-theme-learn><i class="fas fa-heart"></i></a> from <a href=https://getgrav.org>Grav</a> and <a href=https://gohugo.io/>Hugo</a></p></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=/>Home Page</a> > <a href=/products/>Products</a> > <a href=/products/kubernetes/>KUBERNETES</a> > Access K8S Cluster</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#get-access-from-ubuntu-vm-to-k8s-cluster-using-cli-user>Get access from Ubuntu VM to K8S Cluster using CLI User</a></li><li><a href=#get-access-from-centos-vm-to-k8s-cluster-using-cli-user>Get access from CentOS VM to K8S Cluster using CLI User</a></li><li><a href=#connect-to-cluster-master-node-via-ssh>Connect to Cluster Master-Node via SSH</a></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Access K8S Cluster</h1><hr><p>On this page, you can find an explanation of several ways how to access to the Kubernetes Cluster created in the Cloud Console.</p><h1 id=table-of-contents>Table of contents</h1><ul><li><a href=#table-of-contents>Table of contents</a><ul><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#get-access-from-ubuntu-vm-to-k8s-cluster-using-cli-user>Get access from Ubuntu VM to K8S Cluster using CLI User</a></li><li><a href=#get-access-from-centos-vm-to-k8s-cluster-using-cli-user>Get access from CentOS VM to K8S Cluster using CLI User</a></li><li><a href=#connect-to-cluster-master-node-via-ssh>Connect to Cluster Master-Node via SSH</a></li></ul></li></ul><h2 id=prerequisites>Prerequisites</h2><p>In this article we will assume, that we have already created the following resources, that refer to the Project named <em>Test-Project</em> that was created in the Organization named <em>Test-Organization</em>:</p><ul><li><strong>SSH Key,</strong> that will be specified during creating the Virtual Machine and Kubernetes Cluster for further connection to them via SSH; it was created with the next parameters:<ul><li><em>Name</em>: main;</li><li><em>Public key</em> is placed on the Linux VM during its creation;</li><li><em>Private Key</em> was copied to the clipboard and saved on the local system in the next text file (for example: ~/.ssh/id_rsa).</li></ul></li><li><strong>Firewall (Name: for-ssh),</strong> that will be specified during creating the Virtual Machine for further connection to it via SSH - it was created with additional rule allowing incoming traffic on port 22; this rule was created with the next parameters:<ul><li><em>Description:</em> for ssh;</li><li><em>Direction</em>: ingress;</li><li><em>Protocol</em>: TCP;</li><li><em>Port option</em>: Port;</li><li><em>Port</em>: 22;</li><li><em>Remote</em>: CIDR;</li><li><em>Remote IP range:</em> 0.0.0.0/0</li></ul></li><li><strong>Ubuntu Virtual Machine (IP: 185.226.42.187)</strong>, from which we will get access to the Kubernetes Cluster API; it was created with the next parameters and with additional Firewall named <em>for ssh,</em> configured to allow incoming traffic on port 22,so we can connect to this Virtual Machine remotely from our local server via SSH:<ul><li><em>Name</em>: test-2;</li><li><em>Flavor</em>: VC-2;</li><li><em>Image</em>: ubuntu-server-20.04-LTS-20201111;</li><li><em>Key pair</em>: main;</li><li><em>Networks</em>: public;</li><li><em>Firewalls</em>: default, for ssh</li><li><em>Volume size</em>: 50.  </li></ul></li><li><strong>Centos Virtual Machine (185.226.43.21)</strong>, from which we will get access to the Kubernetes Cluster API; it was created with the next parameters and with additional Firewall named <em>for-ssh</em>, configured to allow incoming traffic on port 22,  so we can connect to this Virtual Machine remotely from our local server via SSH:<ul><li><em>Name</em>: test-3;</li><li><em>Flavor</em>: VC-2;</li><li><em>Image</em>: centos-8.2-2004;</li><li><em>Key pair</em>: main;</li><li><em>Networks</em>: public;</li><li><em>Firewalls</em>: default, for-ssh;</li><li><em>Volume size</em>: 50.  </li></ul></li><li><strong>Kubernetes Cluster (Master node IP:185.226.41.220)</strong>,  created with the next parameters:<ul><li><em>Name</em>: test-cl-2;</li><li><em>Cluster Template</em>: v1.21.1;</li><li><em>Master Flavor</em>: VC-4;</li><li><em>Node Flavor:</em> VC-2;</li><li><em>Key pair</em>: main;</li><li><em>Docker image size (GB):</em> 50 GB;</li><li><em>Master Count</em>: 1;</li><li><em>Node Count</em>: 1.</li></ul></li><li><strong>CLI User</strong>, created with the following parameters and its RC file has already been loaded:<ul><li><em>Name</em>: test-conn;</li><li><em>Password</em>: P@ssword.</li></ul></li></ul><p>For more information about creating and configuring these resources, see the following articles:</p><ul><li><a href=https://docs.ventuscloud.eu/products/security/ssh-keys/>SSH Keys</a></li><li><a href=https://docs.ventuscloud.eu/products/security/firewalls/>Firewalls</a></li><li><a href=https://docs.ventuscloud.eu/products/security/firewall-rules/>Firewall Rules</a></li><li><a href=https://docs.ventuscloud.eu/products/compute/virtual-machines/>Virtual Machines</a></li><li><a href=https://docs.ventuscloud.eu/products/kubernetes/kubernetes-cluster/>Kubernetes Cluster</a></li><li><a href=https://docs.ventuscloud.eu/products/security/cli-users/>CLI Users</a></li><li><a href=https://docs.ventuscloud.eu/products/compute/connect-linux-vm/>Access Linux VM</a></li></ul><h2 id=get-access-from-ubuntu-vm-to-k8s-cluster-using-cli-user>Get access from Ubuntu VM to K8S Cluster using CLI User</h2><p>To get the access from the Ubuntu Virtual Machine to the created Kubernetes cluster using CLI, follow the next steps:</p><ul><li><p>Login to your Ubuntu Virtual Machine from which you want to get access to the Kubernetes Cluster API;<br>for this we use SSH protocol - to find additional information about it, see the article - <a href=https://docs.ventuscloud.eu/products/compute/connect-linux-vm/>Access Linux VM</a><br><code>ssh -i ~/.ssh/id_rsa ubuntu@185.226.42.187</code></p></li><li><p>Update Ubuntu package sources by running the following command:<br><code>sudo apt update</code></p></li><li><p>Install Kubernetes Python Client by running the next command:<br><code>sudo apt install python3-pip</code></p></li><li><p>Install openstack cli tool by running two next commands one by one: <br><code>sudo pip3 install python-openstackclient</code><br><code>sudo pip3 install python-magnumclient</code></p></li><li><p>Place RC File of the created CLI User to your Virtual Machine:<br><code>vi openrc</code><br>Check that there were indicated the correct OS_USERNAME and  OS_PROJECT_ID and press <em>Esc:wq</em>, then <em>Enter</em> to save the changes:</p></li></ul><pre tabindex=0><code>#!/usr/bin/env bash
	export OS_AUTH_URL=https://upper-austria.ventuscloud.eu:443/v3
	export OS_PROJECT_ID=e6370ed9ff7c4122b2b89cde7ff7d29f
	export OS_PROJECT_NAME=&#34;e6370ed9ff7c4122b2b89cde7ff7d29f&#34;
	export OS_USER_DOMAIN_NAME=&#34;ventus&#34;
	if [ -z &#34;$OS_USER_DOMAIN_NAME&#34; ]; then unset OS_USER_DOMAIN_NAME; fi
	export OS_PROJECT_DOMAIN_ID=&#34;e1780e7170674d5684076a726f683cfd&#34;
	if [ -z &#34;$OS_PROJECT_DOMAIN_ID&#34; ]; then unset OS_PROJECT_DOMAIN_ID; fi
	unset OS_TENANT_ID
	unset OS_TENANT_NAME
	export OS_USERNAME=&#34;48529f99-8e10-4694-9412-70e1012de805:test-conn&#34;
	echo &#34;Please enter your OpenStack Password for project $OS_PROJECT_NAME as user $OS_USERNAME: &#34;
	read -sr OS_PASSWORD_INPUT
	export OS_PASSWORD=$OS_PASSWORD_INPUT
	export OS_REGION_NAME=&#34;Upper-Austria&#34;
	if [ -z &#34;$OS_REGION_NAME&#34; ]; then unset OS_REGION_NAME; fi
	export OS_INTERFACE=public
	export OS_IDENTITY_API_VERSION=3
</code></pre><ul><li><p>Execute <em>openrc</em> starting with dot:<br><code>. openrc</code></p></li><li><p>Provide the password of the created CLI User and hit <em>Enter</em> - this password will be used to authenticate you in the Cloud Console.</p></li><li><p>Run the next command to get a list of all clusters created in the corresponding Project and to which your User has access:<br><code>openstack coe cluster list</code><br>In our case the output will be next:</p></li></ul><pre tabindex=0><code class=language-output data-lang=output>ubuntu@test-2:~$ openstack coe cluster list
+--------------------------------------+-----------+---------+------------+--------------+-----------------+---------------+
| uuid                                 | name      | keypair | node_count | master_count | status          | health_status |
+--------------------------------------+-----------+---------+------------+--------------+-----------------+---------------+
| 63fe23ab-eaab-46af-9173-131db353c993 | test-cl-1 | mykey   |          3 |            1 | UPDATE_COMPLETE | HEALTHY       |
| 315c90c5-d74c-429d-b53f-fe0f68025a6e | test-cl-2 | mykey   |          1 |            1 | CREATE_COMPLETE | HEALTHY       |
+--------------------------------------+-----------+---------+------------+--------------+-----------------+---------------+
</code></pre><ul><li><p>Run the following command to get the <em>kubeconfig file</em> for the Cluster named <em>test-cl-2,</em> that you will be accessing:<br><code>mkdir ~/test-cl-2</code><br><code>openstack coe cluster config --dir ~/test-cl-2 test-cl-2</code></p></li><li><p>Export path to created config for as KUBECONFIG env variable:<br><code>export KUBECONFIG=/home/ubuntu/test-cl-2/config</code></p></li><li><p>Install <em>kubectl</em> by running the next command:<br><code>sudo snap install kubectl --classic</code></p></li><li><p>Run the next commands to test that you have access to the selected Cluster and all pods are running:<br><code>kubectl get nodes</code><br><code>kubectl get pods --all-namespaces</code><br>If everything is fine, the output should be close to the following:</p></li></ul><pre tabindex=0><code class=language-output data-lang=output>ubuntu@test-2:~$ kubectl get nodes
NAME                              STATUS   ROLES    AGE   VERSION
test-cl-2-ad3t5fyciosn-master-0   Ready    master   3d    v1.21.1
test-cl-2-ad3t5fyciosn-node-0     Ready    &lt;none&gt;   3d    v1.21.1
ubuntu@test-2:~$ kubectl get pods --all-namespaces
NAMESPACE     NAME                                            READY   STATUS    RESTARTS   AGE
kube-system   coredns-d58bdb66c-77tpn                         1/1     Running   0          3d
kube-system   coredns-d58bdb66c-gxlcq                         1/1     Running   0          3d
kube-system   dashboard-metrics-scraper-5594697f48-2fdzj      1/1     Running   0          3d
kube-system   draino-784c9b8-ztm86                            1/1     Running   0          3d
kube-system   k8s-keystone-auth-kcrv2                         1/1     Running   0          3d
kube-system   kube-dns-autoscaler-f57cd985f-lxp2g             1/1     Running   0          3d
kube-system   kube-flannel-ds-9rhgc                           1/1     Running   0          3d
kube-system   kube-flannel-ds-gwvs8                           1/1     Running   0          3d
kube-system   kubernetes-dashboard-545f6f795d-k9ngg           1/1     Running   0          3d
kube-system   magnum-metrics-server-5694f476c-lzjmw           1/1     Running   0          3d
kube-system   npd-pd5jq                                       1/1     Running   0          3d
kube-system   openstack-autoscaler-manager-65dd4f65c5-plvr2   1/1     Running   0          3d
kube-system   openstack-cinder-csi-controllerplugin-0         5/5     Running   0          3d
kube-system   openstack-cinder-csi-nodeplugin-px2bj           2/2     Running   0          3d
kube-system   openstack-cloud-controller-manager-mfswf        1/1     Running   1          3d
</code></pre><h2 id=get-access-from-centos-vm-to-k8s-cluster-using-cli-user>Get access from CentOS VM to K8S Cluster using CLI User</h2><p>To get the access from the CentOS Virtual Machine to the created Kubernetes cluster using CLI, follow the next steps:</p><ul><li><p>Login to your CentOS Virtual Machine from which you want to get access to the Kubernetes Cluster API;<br>for this we use SSH protocol - to find additional information about it, see the article - <a href=https://docs.ventuscloud.eu/products/compute/connect-linux-vm/>Access Linux VM</a><br><code>ssh -i ~/.ssh/id_rsa centos@185.226.43.21</code></p></li><li><p>Enable the OpenStack repository;<br>on CentOS, the extras repository provides the RPM that enables the OpenStack repository. CentOS includes the extras repository by default, so you can simply install the package to enable the OpenStack repository. For CentOS 8, you will also need to enable the PowerTools repository:<br><code>sudo yum install centos-release-openstack-ussuri</code><br><code>sudo yum config-manager --set-enabled PowerTools</code></p></li><li><p>Update CentOS package sources by running the following command:<br><code>sudo yum upgrade</code></p></li><li><p>Install the appropriate OpenStack client for your CentOS version:<br><code>sudo yum install python3-openstackclient</code><br><code>sudo yum install python3-magnumclient</code></p></li><li><p>Place RC File of the created CLI User to your Virtual Machine but first install the nano text editor, if not yet installed:<br><code>sudo yum install -y nano</code><br><code>nano openrc</code><br>Сheck that there were indicated the correct OS_USERNAME and  OS_PROJECT_ID and press <em>Ctrl+S</em>, then <em>Ctrl+X</em> to save the changes:</p></li></ul><pre tabindex=0><code>#!/usr/bin/env bash
	export OS_AUTH_URL=https://upper-austria.ventuscloud.eu:443/v3
	export OS_PROJECT_ID=e6370ed9ff7c4122b2b89cde7ff7d29f
	export OS_PROJECT_NAME=&#34;e6370ed9ff7c4122b2b89cde7ff7d29f&#34;
	export OS_USER_DOMAIN_NAME=&#34;ventus&#34;
	if [ -z &#34;$OS_USER_DOMAIN_NAME&#34; ]; then unset OS_USER_DOMAIN_NAME; fi
	export OS_PROJECT_DOMAIN_ID=&#34;e1780e7170674d5684076a726f683cfd&#34;
	if [ -z &#34;$OS_PROJECT_DOMAIN_ID&#34; ]; then unset OS_PROJECT_DOMAIN_ID; fi
	unset OS_TENANT_ID
	unset OS_TENANT_NAME
	export OS_USERNAME=&#34;48529f99-8e10-4694-9412-70e1012de805:test-conn&#34;
	echo &#34;Please enter your OpenStack Password for project $OS_PROJECT_NAME as user $OS_USERNAME: &#34;
	read -sr OS_PASSWORD_INPUT
	export OS_PASSWORD=$OS_PASSWORD_INPUT
	export OS_REGION_NAME=&#34;Upper-Austria&#34;
	if [ -z &#34;$OS_REGION_NAME&#34; ]; then unset OS_REGION_NAME; fi
	export OS_INTERFACE=public
	export OS_IDENTITY_API_VERSION=3
</code></pre><ul><li><p>Execute <em>openrc</em> starting with dot:<br><code>. openrc</code></p></li><li><p>Provide the password of the created CLI User and hit <em>Enter</em> - this password will be used to authenticate you in the Cloud Console.</p></li><li><p>Run the next command to get a list of all clusters created in the corresponding Project and to which your User has access:<br><code>openstack coe cluster list</code><br>In our case the output will be next:</p></li></ul><pre tabindex=0><code class=language-output data-lang=output>[centos@test-3 ~]$ openstack coe cluster list
+--------------------------------------+-----------+---------+------------+--------------+-----------------+---------------+
| uuid                                 | name      | keypair | node_count | master_count | status          | health_status |
+--------------------------------------+-----------+---------+------------+--------------+-----------------+---------------+
| 63fe23ab-eaab-46af-9173-131db353c993 | test-cl-1 | mykey   |          3 |            1 | UPDATE_COMPLETE | HEALTHY       |
| 315c90c5-d74c-429d-b53f-fe0f68025a6e | test-cl-2 | mykey   |          1 |            1 | CREATE_COMPLETE | HEALTHY       |
+--------------------------------------+-----------+---------+------------+--------------+-----------------+---------------+
</code></pre><ul><li><p>Run the following command to get the <em>kubeconfig file</em> for the Cluster named <em>test-cl-2,</em> that you will be accessing:<br><code>mkdir ~/test-cl-2</code><br><code>openstack coe cluster config --dir ~/test-cl-2 test-cl-2</code></p></li><li><p>Export path to created config for as KUBECONFIG env variable:<br><code>export KUBECONFIG=/home/centos/test-cl-2/config</code></p></li><li><p>Install the latest release of  <em>kubectl</em>, make the kubectl binary executable and move the binary into your PATH by running the next commands:<br><code>curl -LO https://storage.googleapis.com/kubernetes-release/release/'curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt'/bin/linux/amd64/kubectl</code><br><code>chmod +x ./kubectl</code><br><code>sudo mv ./kubectl /usr/local/bin/kubectl</code></p></li><li><p>Run the next commands to test that you have access to the selected Cluster and all pods are running:<br><code>kubectl get nodes</code><br><code>kubectl get pods -A</code><br>If everything is fine, the output should be close to the following:</p></li></ul><pre tabindex=0><code class=language-output data-lang=output>[centos@test-3 ~]$ kubectl get nodes
NAME                              STATUS   ROLES    AGE   VERSION
test-cl-2-ad3t5fyciosn-master-0   Ready    master   3d    v1.21.1
test-cl-2-ad3t5fyciosn-node-0     Ready    &lt;none&gt;   3d    v1.21.1
[centos@test-3 ~]$ kubectl get pods -A
NAMESPACE     NAME                                            READY   STATUS    RESTARTS   AGE
kube-system   coredns-d58bdb66c-77tpn                         1/1     Running   0          3d
kube-system   coredns-d58bdb66c-gxlcq                         1/1     Running   0          3d
kube-system   dashboard-metrics-scraper-5594697f48-2fdzj      1/1     Running   0          3d
kube-system   draino-784c9b8-ztm86                            1/1     Running   0          3d
kube-system   k8s-keystone-auth-kcrv2                         1/1     Running   0          3d
kube-system   kube-dns-autoscaler-f57cd985f-lxp2g             1/1     Running   0          3d
kube-system   kube-flannel-ds-9rhgc                           1/1     Running   0          3d
kube-system   kube-flannel-ds-gwvs8                           1/1     Running   0          3d
kube-system   kubernetes-dashboard-545f6f795d-k9ngg           1/1     Running   0          3d
kube-system   magnum-metrics-server-5694f476c-lzjmw           1/1     Running   0          3d
kube-system   npd-pd5jq                                       1/1     Running   0          3d
kube-system   openstack-autoscaler-manager-65dd4f65c5-plvr2   1/1     Running   0          3d
kube-system   openstack-cinder-csi-controllerplugin-0         5/5     Running   0          3d
kube-system   openstack-cinder-csi-nodeplugin-px2bj           2/2     Running   0          3d
kube-system   openstack-cloud-controller-manager-mfswf        1/1     Running   1          3d
</code></pre><h2 id=connect-to-cluster-master-node-via-ssh>Connect to Cluster Master-Node via SSH</h2><p>Since we created an SSH Key Pair (see Prerequisites of this article), the public key of which is deployed on our Cluster nodes, and the private key on our local system (for example, ~ / .ssh / id_rsa), we can connect to this Kubernetes Cluster remotely from our local server - via SSH to the Master Node of the selected Cluster, which IP is 185.226.41.220. For this, just use the following command:<br><code>ssh -i ~/.ssh/id_rsa username@*10.111.22.333*</code></p><div class="notices note"><p><em>Username</em> for Cluster nodes is <strong>core.</strong></p></div><p>Replace <em>username</em> and <em>10.11.22.333</em> in the command with your data and specify the appropriate path to your private key. In our example, the command will look like this:<br><code>ssh -i ~/.ssh/id_rsa core@185.226.41.220</code></p><p>After successfully connecting, you can test that you have access to the selected Cluster and all pods are running, just run the following commands:<br><code>kubectl get nodes</code><br><code>kubectl get pods --all-namespaces</code></p><p>If everything is fine, the output should be close to the following:</p><pre tabindex=0><code class=language-output data-lang=output>[core@test-cl-2-ad3t5fyciosn-master-0 ~]$ kubectl get nodes
NAME                              STATUS   ROLES    AGE   VERSION
test-cl-2-ad3t5fyciosn-master-0   Ready    master   3d    v1.21.1
test-cl-2-ad3t5fyciosn-node-0     Ready    &lt;none&gt;   3d    v1.21.1
[core@test-cl-2-ad3t5fyciosn-master-0 ~]$ kubectl get pods --all-namespaces
NAMESPACE     NAME                                            READY   STATUS    RESTARTS   AGE
kube-system   coredns-d58bdb66c-77tpn                         1/1     Running   0          3d
kube-system   coredns-d58bdb66c-gxlcq                         1/1     Running   0          3d
kube-system   dashboard-metrics-scraper-5594697f48-2fdzj      1/1     Running   0          3d
kube-system   draino-784c9b8-ztm86                            1/1     Running   0          3d
kube-system   k8s-keystone-auth-kcrv2                         1/1     Running   0          3d
kube-system   kube-dns-autoscaler-f57cd985f-lxp2g             1/1     Running   0          3d
kube-system   kube-flannel-ds-9rhgc                           1/1     Running   0          3d
kube-system   kube-flannel-ds-gwvs8                           1/1     Running   0          3d
kube-system   kubernetes-dashboard-545f6f795d-k9ngg           1/1     Running   0          3d
kube-system   magnum-metrics-server-5694f476c-lzjmw           1/1     Running   0          3d
kube-system   npd-pd5jq                                       1/1     Running   0          3d
kube-system   openstack-autoscaler-manager-65dd4f65c5-plvr2   1/1     Running   0          3d
kube-system   openstack-cinder-csi-controllerplugin-0         5/5     Running   0          3d
kube-system   openstack-cinder-csi-nodeplugin-px2bj           2/2     Running   0          3d
kube-system   openstack-cloud-controller-manager-mfswf        1/1     Running   1          3d
</code></pre><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=/products/kubernetes/kubernetes-cluster/ title="K8S Cluster"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=/products/security/ title=SECURITY style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1680863264></script>
<script src=/js/perfect-scrollbar.min.js?1680863264></script>
<script src=/js/perfect-scrollbar.jquery.min.js?1680863264></script>
<script src=/js/jquery.sticky.js?1680863264></script>
<script src=/js/featherlight.min.js?1680863264></script>
<script src=/js/highlight.pack.js?1680863264></script>
<script>hljs.initHighlightingOnLoad()</script><script src=/js/modernizr.custom-3.6.0.js?1680863264></script>
<script src=/js/learn.js?1680863264></script>
<script src=/js/hugo-learn.js?1680863264></script>
<script src=/mermaid/mermaid.js?1680863264></script>
<script>mermaid.initialize({startOnLoad:!0})</script></body></html>